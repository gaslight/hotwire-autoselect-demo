<p id="notice"><%= notice %></p>

<h1>Parts</h1>
  <div
    data-controller="autosuggest"
    data-autosuggest-fetch-url-value="<%= fetch_parts_path(format: :html) %>"
    data-autosuggest-reset-url-value="<%= reset_parts_path(format: :html) %>"
    data-autosuggest-suggest-url-value="<%= autosuggest_parts_path(format: :html) %>"
  >
    <div class="search-container">
      <div class="part-search">
        <form>
          <label for="part_number">Part Number</label>
          <input id="part_number" autocomplete="off" data-action="autosuggest#lookup" data-autosuggest-target="partNumber">
        </form>
        <ul class="search-list" data-autosuggest-target="results"></ul>
      </div>
      <a data-action="autosuggest#reset" data-test="reset-search">Reset Search</a>
    </div>

    <table>
      <thead>
        <tr>
          <th>Part number</th>
          <th>Description</th>
          <th>Manufacturer</th>
          <th>Stock quantity</th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody data-autosuggest-target="reset">
        <%= turbo_frame_tag 'parts' do %>
          <%= render @parts %>
        <% end %>
      </tbody>
    </table>

    <br>

    <%= link_to 'New Part', new_part_path %>
  </div>
</div>